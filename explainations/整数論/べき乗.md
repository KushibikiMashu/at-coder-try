# べき乗

## 問題
正の整数nとmについて、mのn乗を10 ** 9 + 7で割った余りを求めてください。

## アルゴリズム
愚直に計算するとO(n)のアルゴリズムになってしまう。このため、繰り返し二乗法を用いて高速に計算する。

```
MOD = 10 ** 9 + 7
power(n, m)
  if m == 0: return 1
  res = power(n * n % MOD, n / 2)
  if mが奇数なら
    res = res * n % MOD
  return res
```

これは、n^m = (n^2)^(m/2)であることを用いたアルゴリズム。

3^50を考えるとき、`50 = 2^5 + 2^4 + 2^1`であることを利用する。すると、`3^50 = 3^(2^5) * 3^(2^4) * 3^(2^1)`と計算できる。

## 実装
```python
def power(n, m, mod):
    ans = 1
    while m:
        if m % 2 == 1:
            ans *= n
        n *= n
        m >>= 1
    return ans % mod
```

## 計算量
再帰関数の引数nが半分になっていくので、O(log n)

## 参考
[繰り返し2乗法、行列累乗](https://qiita.com/ophhdn/items/e6451ec5983939ecbc5b#%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%972%E4%B9%97%E6%B3%95)
